{"ast":null,"code":"import { EventBus } from '@/utils/event-bus';\nimport axios from 'axios';\nimport request from \"@/utils/request\";\nconst jwt = localStorage.getItem('jwt');\nconst userID = localStorage.getItem('jwt');\naxios.defaults.headers.common['Authorization'] = `Bearer ${jwt}`;\nexport default {\n  data() {\n    return {\n      showcase: {\n        id: '111',\n        username: '111',\n        gender: '1',\n        introduction: '111',\n        birth_date: '111',\n        province: '111',\n        city: '111',\n        email: '111',\n        phone: '111',\n        video: ''\n      },\n      Provinces: [{\n        value: 'fujian',\n        label: 'fujian'\n      }, {\n        value: 'shandong',\n        label: 'shandong'\n      }\n      // ... 其他省份  \n      ],\n      Cities: {\n        fujian: [{\n          value: 'fuzhou',\n          label: 'fuzhou'\n        }, {\n          value: 'xiamen',\n          label: 'xiamen'\n        }\n        // ... 其他城市  \n        ],\n        shandong: [{\n          value: 'qingdao',\n          label: 'qingdao'\n        }\n        // ... 其他城市  \n        ]\n        // ... 其他省份的城市  \n      },\n      options: [{\n        value: '1',\n        label: 'male'\n      }, {\n        value: '2',\n        label: 'female'\n      }],\n      ruleForm: {\n        id: '111',\n        username: '111',\n        gender: '1',\n        introduction: '111',\n        birth_date: '1-01-01',\n        province: '111',\n        city: '111',\n        email: '111',\n        phone: '111',\n        video: ''\n      }\n    };\n  },\n  async created() {\n    request.post('/user/find_user', userID).then(response => {\n      this.showcase = response.data;\n      this.ruleForm = response.data;\n    }).catch(error => {\n      console.error(error);\n    });\n  },\n  methods: {\n    showLoginDialog() {\n      EventBus.$emit('show-login-dialog');\n    },\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          request.put('/user/modify_user', this.form).then(response => {\n            const {\n              code,\n              msg,\n              data\n            } = response.data;\n            console.log('data:', data);\n            if (code === 1) {\n              // 请求成功  \n              console.log('请求成功:', msg);\n              alert(msg);\n            } else if (code === 0) {\n              // 请求失败  \n              console.error('请求失败:', msg);\n              alert(msg);\n            } else {\n              // 未知的响应码  \n              console.error('未知的响应码:', code, msg);\n            }\n          }).catch(error => {\n            // 处理网络错误或请求未发送成功的情况  \n            if (error.response) {\n              // 请求已发出，但服务器响应的状态码不在 2xx 范围内  \n              console.error('服务器响应错误:', error.response.data);\n              console.error('状态码:', error.response.status);\n            } else if (error.request) {\n              // 请求已发出，但没有收到响应  \n              console.error('请求错误:', error.request);\n            } else {\n              // 发生了其他错误（例如，在设置请求时出错）  \n              console.error('发生错误:', error.msg);\n            }\n          });\n        } else {\n          console.log('不合法的表单');\n          return false;\n        }\n      });\n    },\n    resetForm() {\n      this.ruleForm = this.showcase;\n    },\n    emptyForm() {\n      this.ruleForm = {\n        id: '',\n        username: '',\n        gender: '',\n        introduction: '',\n        birth_date: '',\n        province: '',\n        city: '',\n        email: '',\n        phone: '',\n        video: ''\n      };\n    }\n  }\n};","map":{"version":3,"names":["EventBus","axios","request","jwt","localStorage","getItem","userID","defaults","headers","common","data","showcase","id","username","gender","introduction","birth_date","province","city","email","phone","video","Provinces","value","label","Cities","fujian","shandong","options","ruleForm","created","post","then","response","catch","error","console","methods","showLoginDialog","$emit","submitForm","formName","$refs","validate","valid","put","form","code","msg","log","alert","status","resetForm","emptyForm"],"sources":["src/views/project/EditView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-container>\r\n      <el-main>\r\n        <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"80px\">\r\n          <el-row type=\"flex\">\r\n            <el-col :span=\"6\">\r\n              <img src=showcase.avatar alt=\"Avatar\" class=\"avatarView\">\r\n              <br>\r\n              <el-upload label=\"avatar\" prop=\"avatar\" class=\"upload-demo\">\r\n                <el-button>change avatar</el-button>\r\n              </el-upload>\r\n              <br>\r\n              <div>\r\n                <span>ID:{{ showcase.id }}</span>\r\n              </div>\r\n              <div v-html=\"fetchedText\"></div> <!-- 使用 v-html 来显示 HTML 文本 -->\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"username\" prop=\"username\">\r\n                <el-input style=\"width: 225px;\" v-model=\"ruleForm.username\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"gender\" prop=\"gender\">\r\n                <el-select v-model=\"ruleForm.gender\">\r\n                  <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item label=\"birthday\" prop=\"birthday\">\r\n                <el-date-picker v-model=\"ruleForm.birth_date\" type=\"date\"></el-date-picker>\r\n              </el-form-item>\r\n              <el-form-item label=\"province\" prop=\"province\">\r\n                <el-select v-model=\"ruleForm.province\" filterable>\r\n                  <el-option v-for=\"Province in Provinces\" :key=\"Province.value\" :label=\"Province.label\"\r\n                    :value=\"Province.value\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item label=\"city\" prop=\"city\">\r\n                <el-select v-model=\"ruleForm.city\" filterable>\r\n                  <el-option v-for=\"City in Cities[ruleForm.province]\" :key=\"City.value\" :label=\"City.label\"\r\n                    :value=\"City.value\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item label=\"email\" prop=\"email\">\r\n                <el-input style=\"width: 300px;\" v-model=\"ruleForm.email\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"phone\" prop=\"phone\">\r\n                <el-input style=\"width: 300px;\" v-model=\"ruleForm.phone\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"6\">\r\n              <img src=\"#\" alt=\"photo\">\r\n              <el-upload label=\"photo\" prop=\"photo\" class=\"upload-demo\" action=\"#\">\r\n                <el-button>change photo</el-button>\r\n              </el-upload>\r\n              <br>\r\n              <br>\r\n              <video controls width=\"320\" height=\"240\" :src=\"video\">\r\n                你的浏览器不支持 Video 标签。\r\n              </video>\r\n              <el-upload label=\"vedio\" prop=\"vedio\" class=\"upload-demo\" action=\"#\">\r\n                <el-button>upload vedio</el-button>\r\n              </el-upload>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-form-item label=\"self-instruction\" prop=\"self-instruction\" label-width=\"120px\">\r\n              <el-input type=\"textarea\" v-model=\"ruleForm.introduction\">\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-row>\r\n          <el-row>\r\n            <el-button type=\"primary\" @click=\"emptyForm()\">Empty</el-button>\r\n            <el-button type=\"primary\" @click=\"resetForm()\">Reset</el-button>\r\n            <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">Save</el-button>\r\n          </el-row>\r\n        </el-form>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { EventBus } from '@/utils/event-bus';\r\nimport axios from 'axios';\r\nimport request from \"@/utils/request\";\r\nconst jwt = localStorage.getItem('jwt');\r\nconst userID = localStorage.getItem('jwt');\r\n\r\naxios.defaults.headers.common['Authorization'] = `Bearer ${jwt}`;\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      showcase: {\r\n        id: '111',\r\n        username: '111',\r\n        gender: '1',\r\n        introduction: '111',\r\n        birth_date: '111',\r\n        province: '111',\r\n        city: '111',\r\n        email: '111',\r\n        phone: '111',\r\n        video: '',\r\n      },\r\n      Provinces: [\r\n        { value: 'fujian', label: 'fujian' },\r\n        { value: 'shandong', label: 'shandong' },\r\n        // ... 其他省份  \r\n      ],\r\n      Cities: {\r\n        fujian: [\r\n          { value: 'fuzhou', label: 'fuzhou' },\r\n          { value: 'xiamen', label: 'xiamen' },\r\n          // ... 其他城市  \r\n        ],\r\n        shandong: [\r\n          { value: 'qingdao', label: 'qingdao' },\r\n          // ... 其他城市  \r\n        ],\r\n        // ... 其他省份的城市  \r\n      },\r\n      options: [{\r\n        value: '1',\r\n        label: 'male'\r\n      }, {\r\n        value: '2',\r\n        label: 'female'\r\n      }],\r\n      ruleForm: {\r\n        id: '111',\r\n        username: '111',\r\n        gender: '1',\r\n        introduction: '111',\r\n        birth_date: '1-01-01',\r\n        province: '111',\r\n        city: '111',\r\n        email: '111',\r\n        phone: '111',\r\n        video: '',\r\n      },\r\n    }\r\n  },\r\n  async created() {\r\n    request.post('/user/find_user', userID)\r\n      .then((response) => {\r\n        this.showcase = response.data;\r\n        this.ruleForm = response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      })\r\n  },\r\n  methods: {\r\n    showLoginDialog() {\r\n      EventBus.$emit('show-login-dialog');\r\n    },\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          request.put('/user/modify_user', this.form)\r\n            .then((response) => {\r\n              const { code, msg, data } = response.data;\r\n              console.log('data:',data);\r\n              if (code === 1) {\r\n                // 请求成功  \r\n                console.log('请求成功:', msg);\r\n                alert(msg);\r\n              } else if (code === 0) {\r\n                // 请求失败  \r\n                console.error('请求失败:', msg);\r\n                alert(msg);\r\n              } else {\r\n                // 未知的响应码  \r\n                console.error('未知的响应码:', code, msg);\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              // 处理网络错误或请求未发送成功的情况  \r\n              if (error.response) {\r\n                // 请求已发出，但服务器响应的状态码不在 2xx 范围内  \r\n                console.error('服务器响应错误:', error.response.data);\r\n                console.error('状态码:', error.response.status);\r\n              } else if (error.request) {\r\n                // 请求已发出，但没有收到响应  \r\n                console.error('请求错误:', error.request);\r\n              } else {\r\n                // 发生了其他错误（例如，在设置请求时出错）  \r\n                console.error('发生错误:', error.msg);\r\n              }\r\n            });\r\n        } else {\r\n          console.log('不合法的表单');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm() {\r\n      this.ruleForm = this.showcase;  \r\n    },\r\n    emptyForm() {\r\n      this.ruleForm = {\r\n        id: '',\r\n        username: '',\r\n        gender: '',\r\n        introduction: '',\r\n        birth_date: '',\r\n        province: '',\r\n        city: '',\r\n        email: '',\r\n        phone: '',\r\n        video: '',\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.avatarView {\r\n  width: 300px;\r\n  height: 300px;\r\n  opacity: 1;\r\n  background: rgba(204, 204, 204, 1);\r\n}\r\n\r\n.el-row {\r\n  margin-bottom: 20px;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.el-col {\r\n  border-radius: 4px;\r\n}\r\n\r\n.bg-purple-dark {\r\n  background: #99a9bf;\r\n}\r\n\r\n.bg-purple {\r\n  background: #d3dce6;\r\n}\r\n\r\n.bg-purple-light {\r\n  background: #e5e9f2;\r\n}\r\n\r\n.grid-content {\r\n  border-radius: 4px;\r\n  min-height: 36px;\r\n}\r\n\r\n.row-bg {\r\n  padding: 10px 0;\r\n  background-color: #f9fafc;\r\n}\r\n\r\n.center-text {\r\n  text-align: center;\r\n  font-size: 36px;\r\n}\r\n\r\n.centered-button {\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  display: block;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { EventBus } from '@/utils/event-bus';\nimport axios from 'axios';\nconst jwt = localStorage.getItem('jwt');\nimport request from '@/utils/request';\naxios.defaults.headers.common['Authorization'] = `Bearer ${jwt}`;\nexport default {\n  data() {\n    return {\n      showcase: {\n        id: '',\n        username: '',\n        age: '',\n        gender: '',\n        birth_date: ''\n      },\n      genders: [{\n        value: '1',\n        label: 'male'\n      }, {\n        value: '2',\n        label: 'female'\n      }],\n      ruleForm: {\n        name: '',\n        gender: '',\n        ageStart: '',\n        ageEnd: '',\n        email: '',\n        qq: '',\n        phone: ''\n      },\n      rules: {}\n    };\n  },\n  async created() {\n    try {\n      const response = await request.get('/main');\n      console.log(response.data);\n      if (response.data.code === 1) {\n        // 请求成功\n        this.showcase = response.data.data;\n        var avatar = document.getElementById('avatar');\n        avatar.src = this.showcase.avator;\n        console.log('请求成功:', response.data.msg);\n      } else if (response.data.code === 0) {\n        // 请求失败\n        console.error('请求失败:', response.data.msg);\n        alert(response.data.msg);\n      } else {\n        // 未知的响应码\n        console.error('未知的响应码:', response.data.code, response.data.msg);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  },\n  methods: {\n    showLoginDialog() {\n      EventBus.$emit('show-login-dialog');\n    },\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          try {\n            const response = request.get('/main/find_user');\n            console.log(response.data);\n            if (response.data.code === 1) {\n              // 请求成功\n              this.showcase = response.data.data;\n              var avatar = document.getElementById('avatar');\n              avatar.src = this.showcase.avator;\n              console.log('请求成功:', response.data.msg);\n            } else if (response.data.code === 0) {\n              // 请求失败\n              console.error('请求失败:', response.data.msg);\n              alert(response.data.msg);\n            } else {\n              // 未知的响应码\n              console.error('未知的响应码:', response.data.code, response.data.msg);\n            }\n          } catch (error) {\n            console.error(error);\n          }\n        } else {\n          console.log('');\n          return false;\n        }\n      });\n    },\n    goToShowcase() {\n      localStorage.setItem('showcaseID', this.showcase.id);\n      this.$router.push({\n        name: 'personal'\n      });\n    }\n  }\n};","map":{"version":3,"names":["EventBus","axios","jwt","localStorage","getItem","request","defaults","headers","common","data","showcase","id","username","age","gender","birth_date","genders","value","label","ruleForm","name","ageStart","ageEnd","email","qq","phone","rules","created","response","get","console","log","code","avatar","document","getElementById","src","avator","msg","error","alert","methods","showLoginDialog","$emit","submitForm","formName","$refs","validate","valid","goToShowcase","setItem","$router","push"],"sources":["src/views/project/HomeView.vue"],"sourcesContent":["<template>\n  <div>\n    <el-container>\n      <el-header class=\"center-text\">\n        Personal showcase\n      </el-header>\n      <br>\n      <el-main>\n        <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\">\n          <el-row>\n            <el-col span=\"6\">\n              <el-form-item label=\"name\" prop=\"name\">\n                <el-input style=\"width: 150px;\" v-model=\"ruleForm.name\" placeholder=\"name\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col span=\"6\">\n              <el-form-item label=\"gender\" prop=\"gender\">\n                <el-select style=\"width: 150px;\" v-model=\"ruleForm.gender\" placeholder=\"gender\">\n                  <el-option style=\"width: 150px;\" v-for=\"item in genders\" :key=\"item.value\" :label=\"item.label\"\n                    :value=\"item.value\">\n                  </el-option>\n                </el-select>\n              </el-form-item>\n            </el-col>\n            <el-col span=\"5\">\n              <el-form-item label=\"age\" prop=\"ageStart\">\n                <el-input v-model=\"ruleForm.ageStart\" placeholder=\"ageStart\"></el-input>\n              </el-form-item>\n            </el-col>\n            </el-col>\n            <el-col span=\"5\">\n              <el-form-item prop=\"ageEnd\">\n                <el-input v-model=\"ruleForm.ageEnd\" placeholder=\"ageEnd\"></el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col span=\"4\">\n              <el-form-item label=\"email\" prop=\"email\">\n                <el-input style=\"width: 150px;\" v-model=\"ruleForm.email\" placeholder=\"email\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col span=\"4\">\n              <el-form-item label=\"qq\" prop=\"qq\">\n                <el-input style=\"width: 150px;\" v-model=\"ruleForm.qq\" placeholder=\"qq\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col span=\"4\">\n              <el-form-item label=\"phone\" prop=\"phone\">\n                <el-input style=\"width: 150px;\" v-model=\"ruleForm.phone\" placeholder=\"phone\"></el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </el-form>\n        <br>\n        <el-row>\n          <el-button type=\"primary\" class=\"centered-button\" @click=\"submitForm('ruleForm')\">Inquire</el-button>\n        </el-row>\n        <br>\n        <div class=\"showcase-container\">\n          <div class=\"showcase\" @click=goToShowcase()>\n            <br><br>\n            <el-row>\n              <el-col span=\"8\">\n                <img id=\"avatar\" src=\"#\" alt=\"avatar\" style=\"width: 200px; height: 150px;\">\n              </el-col>\n              <el-col span=\"12\">\n                <el-row>username: {{ showcase.username }}</el-row>\n                <el-row>gender:\n                  <span v-if=\"showcase.gender === 1\">male</span>\n                  <span v-else-if=\"showcase.gender === 2\">female</span>\n                  <span v-else>unknown</span>\n                </el-row>\n                <el-row>birthday: {{ showcase.birthDate }}</el-row>\n              </el-col>\n            </el-row>\n          </div>\n        </div>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\n\nimport { EventBus } from '@/utils/event-bus';\nimport axios from 'axios';\nconst jwt = localStorage.getItem('jwt');\n\nimport request from '@/utils/request';\naxios.defaults.headers.common['Authorization'] = `Bearer ${jwt}`;\n\n\nexport default {\n  data() {\n    return {\n      showcase: {\n        id:'',\n        username:'',\n        age:'',\n        gender:'',\n        birth_date:'',\n      },\n      genders: [{\n        value: '1',\n        label: 'male'\n      }, {\n        value: '2',\n        label: 'female'\n      }],\n      ruleForm: {\n        name: '',\n        gender: '',\n        ageStart: '',\n        ageEnd: '',\n        email: '',\n        qq: '',\n        phone: '',\n      },\n      rules:{},\n    }\n  },\n  async created() {\n    try {\n      const response = await request.get('/main');\n      console.log(response.data);\n      if (response.data.code === 1) {\n        // 请求成功\n        this.showcase = response.data.data;\n        var avatar = document.getElementById('avatar');\n        avatar.src = this.showcase.avator;\n        console.log('请求成功:', response.data.msg);\n      } else if (response.data.code === 0) {\n        // 请求失败\n        console.error('请求失败:', response.data.msg);\n        alert(response.data.msg);\n      } else {\n        // 未知的响应码\n        console.error('未知的响应码:', response.data.code, response.data.msg);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  },\n  methods: {\n    showLoginDialog() {\n      EventBus.$emit('show-login-dialog');\n    },\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          try {\n            const response = request.get('/main/find_user');\n            console.log(response.data);\n            if (response.data.code === 1) {\n              // 请求成功\n              this.showcase = response.data.data;\n              var avatar = document.getElementById('avatar');\n              avatar.src = this.showcase.avator;\n              console.log('请求成功:', response.data.msg);\n            } else if (response.data.code === 0) {\n              // 请求失败\n              console.error('请求失败:', response.data.msg);\n              alert(response.data.msg);\n            } else {\n              // 未知的响应码\n              console.error('未知的响应码:', response.data.code, response.data.msg);\n            }\n          } catch (error) {\n            console.error(error);\n          }\n        } else {\n          console.log('');\n          return false;\n        }\n      });\n    },\n    goToShowcase(){\n      localStorage.setItem('showcaseID',this.showcase.id);\n      this.$router.push({ name: 'personal' });\n    }\n  }\n}\n</script>\n\n<style>\n.showcase-container {\n  position: absolute;\n  left: 75px;\n  top: 500px;\n}\n\n.showcase {\n  width: 1200px;\n  height: 200px;\n  background: rgb(201, 201, 201);\n}\n\n.center-text {\n  text-align: center;\n  font-size: 36px;\n}\n\n.centered-button {\n  margin-left: auto;\n  margin-right: auto;\n  display: block;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}